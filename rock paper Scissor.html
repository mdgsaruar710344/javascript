<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-Paper-Scissor-DOM version</title>
</head>

<body>
    <button onclick="     
            playGame('Rock');                       
            showScoreOnHTML(); 
        " class=".js-rock">Rock</button>

    <button onclick="                 
           playGame('Paper');                     
           showScoreOnHTML(); 
            "
            class=".js-paper">Paper
            </button>

    <button onclick="            
     playGame('Scissor');            
     showScoreOnHTML(); 
     " class=".js-scissor">
            Scissor
        </button>

        <button onclick="
        resetScore();
        console.log(score);
        showResettedScore();
        showScoreOnHTML();
        ">
            Reset
        </button>

        <p>
            Your score details:
        </p>
        <p class="js-scoreboard"></p>
        
    <script>
        let result;
        let computerMove;
        let playerMove;
        let playerTotalresult = 0;
        let computerTotalresult  = 0;
        let drawsTotalResult  = 0;
        let finalResult;

        let score = JSON.parse(localStorage.getItem('scoreboard'));
        if(!score){
            score ={
                wins:0,
                draws:0,
                losses:0
            }
        }
        showScoreOnHTML();

        function playGame(move){
                playerMove=move;
                const randomNumber = Math.random();
                console.log(randomNumber);
            if(randomNumber <= 1/3 ) {
                computerMove = 'Rock';
            }
            else if( randomNumber > 1/3 && randomNumber <= 2/3 ) {
                computerMove = 'Paper';
            }
            else{
                computerMove = 'Scissor';
            }
            console.log(`Computer Move ; ${computerMove}`);

      console.log(`Player Move :${playerMove}`);
            if (playerMove ===computerMove) {
                    result = 'Match draws';
                    score.draws = score.draws + 1;
            }

            else if(playerMove === 'Rock' && computerMove === 'Paper') {
                result = 'Computer wins';
                score.losses = score.losses + 1;
            }

            else if(playerMove === 'Rock' && computerMove === 'Scissor') {
                result = 'Player wins';
                score.wins = score.wins + 1;
            }
            else if(playerMove === 'Paper' && computerMove === 'Rock') {
                    result = 'Player wins';
                    score.wins = score.wins + 1;
                }

                else if(playerMove === 'Paper' && computerMove === 'Scissor') {
                    result = 'Computer wins';
                    score.losses = score.losses + 1;
                }

                else if(playerMove === 'Scissor' && computerMove === 'Rock') {
                    result = 'Computer wins';
                    score.losses = score.losses + 1;
                }
                else {
                    result = 'Player wins';
                    score.wins = score.wins + 1;
                }

                console.log(result);
                if(result === 'Computer wins') {
                    console.log('u nertd');
                }
                else {
                    console.log('u too');
                }

                console.log( `Scorecard ::> Wins: ${score.wins} , Losses: ${score.losses}, Ties: ${score.draws}`);

                localStorage.setItem('scoreboard', JSON.stringify(score));
                console.log(localStorage.getItem('scoreboard'));                   
            }
                   
            function resetScore(){
                score.wins = 0;
                score.draws = 0;
                score.losses = 0;
                localStorage.setItem('scoreboard', JSON.stringify(score));
            }
            console.log(score);
           
            function showResettedScore(){
                console.log(` Scorecard ::> Wins: ${score.wins} , Losses: ${score.losses}, Ties: ${score.draws}`);
            }

            function showScoreOnHTML(){
                console.log(playerMove);
                const scoreElement = (document.querySelector('.js-scoreboard'));
                scoreElement.innerHTML = ` Your move: ${playerMove} and Computer Move : ${computerMove} <p></p> Scorecard ::> Wins: ${score.wins} , Losses: ${score.losses}, Ties: ${score.draws}`
            }
               </script>
            </body>
            </html>

